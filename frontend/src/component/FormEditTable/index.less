/*
 * Copyright (c) 2024 OceanBase.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

.container {
  .addButton {
    margin-top: 4px;
    border-style: dashed;
  }

  :global {
    // 兼容 antd 3 的表单样式
    .ant-legacy-form-item {
      margin-bottom: 0;

      .ant-select {
        width: 100%;
      }

      .ant-input-number {
        width: 100%;
      }
    }

    .ant-form-item {
      margin-bottom: 0;

      .ant-select {
        width: 100%;
      }

      .ant-input-number {
        width: 100%;
      }
    }
  }
}

.disabledBg {
  padding: 10px 0;
  background-color: #f5f5f5c2;
}

.table {
  :global {
    // 第一列要与卡片 title 左对齐
    .ant-table-thead > tr > th:first-child,
    .ant-table-tbody > tr > td:first-child {
      padding-left: 24px;
    }

    // 最后一列要与 extra 右对齐
    .ant-table-thead > tr > th:last-child,
    .ant-table-tbody > tr > td:last-child {
      padding-right: 24px;
    }
  }
}

.editing {
  :global {
    .ant-table-tbody > tr > td {
      // 设置单元格的直接子元素的最小高度为 40px，与表单对齐
      > * {
        display: block;
        min-height: 40px;
      }

      .ant-legacy-form-item {
        min-height: 60px;
      }

      .ant-form-item {
        min-height: 60px;
      }
    }
  }
}

.list {
  :global {
    .ant-table-thead > tr > th {
      padding: 0 4px;
      padding-bottom: 12px;
      font-weight: normal;
      background-color: transparent;
      border-bottom: none;
    }

    .ant-table-tbody > tr > td {
      padding: 0 4px;
      border-bottom: none;

      .ant-legacy-form-item {
        // 设置单元格的最小高度，方便展示表单校验信息时布局不会抖动
        min-height: 60px;

        .ant-legacy-form-item-control {
          height: 32px;
          line-height: 32px;
        }
      }

      .ant-form-item {
        // 设置单元格的最小高度，方便展示表单校验信息时布局不会抖动
        min-height: 60px;

        .ant-form-item-control {
          height: 32px;
          line-height: 32px;
        }
      }

      &:first-child {
        padding-left: 0;
      }

      &:last-child {
        padding-right: 0;
      }
    }

    .ant-table-tbody > tr:hover:not(.ant-table-expanded-row):not(.ant-table-row-selected) > td {
      background: transparent;
    }

    .ant-table-placeholder {
      border: none;

      .ant-empty-normal {
        margin: 0;
        margin-top: 48px;
      }
    }
    // 列表模式，去掉列头之间的分隔线
    .ant-table-thead
      > tr
      > th:not(:last-child):not(.ant-table-selection-column):not(.ant-table-row-expand-icon-cell):not([colspan])::before {
      width: 0;
    }
  }
}
